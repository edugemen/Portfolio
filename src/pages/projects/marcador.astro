---
import Layout from "../../layouts/Layout.astro";
import Text from "../../components/Text";
---

<Layout title="Marcador">
    <main>
        <img src="/marcador_portada.webp" alt="" />
        <section class="text__section">
            <Text
                client:visible
                type="h2"
                className="primary"
                id={"projects.3.title"}
            />
            <Text
                client:visible
                type="h4"
                className="tertiary"
                id={"projects.3.description.1"}
            />
        </section>
        <img src="/marcador_1.webp" alt="" class="top" />
        <iframe
            width="100%"
            class="rounded-md mb-10"
            src="https://www.youtube.com/embed/Jo6rV2qgV90?si=TLs9yTiv1lW7v3z4"
            title="YouTube video player"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen></iframe>
        <img src="/marcador_2.webp" alt="" />
    </main>
</Layout>

<script>
    let video = document.querySelector("iframe");

    let width: number = video?.offsetWidth as number;

    video?.setAttribute("height", (width * 9) / 16 + "px");

    addEventListener("resize", () => {
        width = video?.offsetWidth as number;

        console.log(width);

        video?.setAttribute("height", (width * 9) / 16 + "px");
    });
</script>

<style>
    main {
        margin: 100px auto 0;
        width: 60%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    img {
        width: 100%;
        height: 500px;
        object-fit: cover;
        border-radius: 10px;
        margin-bottom: 20px;
    }
    .top {
        object-position: 0 0;
    }

    iframe {
        margin-bottom: 20px;
        border-radius: 10px;
    }

    h1 {
        color: aliceblue;
    }

    .text__section {
        width: 60%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 20px;
        margin-bottom: 20px;
        border-right: 2px solid white;
        border-left: 2px solid white;
        padding: 10px 20px;
    }

    @media screen and (max-width: 1000px) {
        main {
            width: 90%;
        }

        .text__section {
            width: 85%;
        }
    }
</style>
